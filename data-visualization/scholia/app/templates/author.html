{% extends "base.html" %}

{% set aspect = "author" %}

{% block in_ready %}

<!-- {{ sparql_to_table('publications') }}

{{ sparql_to_iframe('venue-statistics') }}

{{ sparql_to_iframe('publications-per-year') }}

{{ sparql_to_table('cluster-members') }} -->

{% endblock %}

{% block scripts %}
{{super()}}

<script type="text/javascript" src="{{ url_for('static', filename='d3.v5.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='underscore-umd-min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='dimple.v2.3.0.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='vis-network.min.js') }}"></script>




<!-- Charts used by wikidata query service, @see: https://github.com/wikimedia/wikidata-query-gui -->
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/getMessage.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/FormatterHelper.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/Options.js') }}"></script>
<!-- Abstract data used by all charts  -->
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/AbstractResultBrowser.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/AbstractChartResultBrowser.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/AbstractDimpleChartResultBrowser.js') }}"></script>
<!-- Bar chart -->
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/BarChartResultBrowser.js') }}"></script>
<!-- Bubble chart -->
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/BubbleChartResultBrowser.js') }}"></script>
<!-- Graph chart -->
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/GraphResultBrowserNodeBrowser.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='wikidata/GraphResultBrowser.js') }}"></script>

<script type="text/javascript">
// https://codepen.io/mikuel/pen/amXXBN

$( document ).ready(function() {


var mockBubbleChartData = {
	"head": {
		"vars": [
			"score",
			"topic",
			"topicLabel"
		]
	},  
	"results": {
		"bindings": [
			{
				"topic": {
					"type": "uri",
					"value": "http://www.wikidata.org/entity/Q61231"
				},
				"score": {
					"datatype": "http://www.w3.org/2001/XMLSchema#integer",
					"type": "literal",
					"value": "3328"
				},
				"topicLabel": {
					"xml:lang": "en",
					"type": "literal",
					"value": "nanoparticle"
				}
			},
			{
				"topic": {
					"type": "uri",
					"value": "http://www.wikidata.org/entity/Q967847"
				},
				"score": {
					"datatype": "http://www.w3.org/2001/XMLSchema#integer",
					"type": "literal",
					"value": "1388"
				},
				"topicLabel": {
					"xml:lang": "en",
					"type": "literal",
					"value": "nanomaterial"
				}
			}
		]
	}
};

var mockGraphChartData = {
    "head": {
        "vars": [
            "author1",
            "author1Label",
            "rgb",
            "author2",
            "author2Label"
        ]
    },
    "results": {
        "bindings": [
            {
                "author1": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q57582079"
                },
                "author2": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q97595645"
                },
                "author1Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Ali A. Ameli"
                },
                "author2Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Richard Arsenault"
                }
            },
            {
                "author1": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q57582079"
                },
                "author2": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q57516273"
                },
                "author1Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Ali A. Ameli"
                },
                "author2Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Thomas Grabs"
                }
            },
            {
                "author1": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q57582079"
                },
                "author2": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q42820195"
                },
                "author1Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Ali A. Ameli"
                },
                "author2Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Hjalmar Laudon"
                }
            },
            {
                "author1": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q57582079"
                },
                "author2": {
                    "type": "uri",
                    "value": "http://www.wikidata.org/entity/Q23014900"
                },
                "author1Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Ali A. Ameli"
                },
                "author2Label": {
                    "xml:lang": "en",
                    "type": "literal",
                    "value": "Keith Beven"
                }
            }
        ]
    }
};




// var wdqsTable = new wikibase.queryService.ui.resultBrowser.TableResultBrowser();
var wdqsBubbleChart = new wikibase.queryService.ui.resultBrowser.BubbleChartResultBrowser();
var wdqsGraphChart = new wikibase.queryService.ui.resultBrowser.GraphResultBrowser();

// wdqsBubbleChart.setResult(mockBubbleChartData);
// wdqsBubbleChart.draw($('#query-result'));


wdqsGraphChart.setResult(mockGraphChartData);
wdqsGraphChart.draw($('#query-result'));


});

</script>

{% endblock %}


{% block page_content %}

<h1 id="h1">Author</h1>



<!-- <div id="chart"></div> -->



<div id="intro"></div>

<div id="wembedder"></div>

<div id="details"></div>


<div>
  <div id="query-result"></div>
</div>



<!-- <h3 id="cluster-members-header">Cluster Members</h3>

Information automaticaly gathered from wikidata. For a complete list. Please refer to  -->

<table class="table table-hover" id="cluster-members-table"></table>


<h3 id="publications-header">Publications</h3>

<table class="table table-hover" id="publications-table"></table>

<br>
<br>
<hr>

<h2 id="publications-per-year-header">Publications per year</h2>

<div class="embed-responsive embed-responsive-16by9">
  <iframe class="embed-responsive-item" id="publications-per-year-iframe"></iframe>
</div>

<br>
<br>
<hr>

<h2 id="venue-statistics-header">Venue statistics</h2>

<div class="embed-responsive embed-responsive-16by9">
  <iframe class="embed-responsive-item" id="venue-statistics-iframe"></iframe>
</div>



{% endblock %}

